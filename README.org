#+Title: My configuration for emacs
#+LaTeX_CLASS: org-article
#+LaTeX_HEADER:\author{Brice Ozeene}
#+OPTIONS: toc:t


* Installation

Download all files and put them in a directory called *emacs-config*.

Place this directory in the folder containing the *.emacs* file (=~/.= when doing C-x C-f).

Copy the following code at the begining of the .emacs file:
#+BEGIN_SRC emacs-lisp :export code :eval ever
(load-file (expand-file-name "step1-load-packages.el" path-emacs-config))
(load-file (expand-file-name "step2-general-settings.el" path-emacs-config))
(load-file (expand-file-name "step3-email.el" path-emacs-config))
(load-file (expand-file-name "step4a-ess.el" path-emacs-config))
(load-file (expand-file-name "step4b-orgmode.el" path-emacs-config))
(load-file (expand-file-name "step4c-other-software.el" path-emacs-config))
(load-file (expand-file-name "step5-org-class.el" path-emacs-config))
(load-file (expand-file-name "step6-templates.el" path-emacs-config))

(load-file (expand-file-name "FCT-editing.el" path-emacs-config))
(load-file (expand-file-name "FCT-file-management.el" path-emacs-config))
(load-file (expand-file-name "FCT-R.el" path-emacs-config))
(load-file (expand-file-name "FCT-org.el" path-emacs-config))
(load-file (expand-file-name "FCT-switch-to-OS-explorer.el" path-emacs-config))
(load-file (expand-file-name "FCT-superman.el" path-emacs-config))

(load-file (expand-file-name "step7-shorcuts.el" path-emacs-config))
#+END_SRC

[Optional] Install the packages that are not automatically downloaded
when launching emacs.

* Extended commands


| short name | symbol on the keybord | full name |
|------------+-----------------------+-----------|
| C-         | Ctrl                  | Control   |
| M-         | Alt                   | Meta      |
| ESC-       | Esc                   | Escape    |
| DEL-       | <- Backspace          | Backspace |
| SPC-       |                       | Space     |

| Key binding          | name of the command      | effect                                    |
|----------------------+--------------------------+-------------------------------------------|
| M-x                  | execute-extended-command | execute command                           |
| C-u <num> <shortcut> |                          | duplicate by num the effect of a shortcut |
|                      |                          |                                           |

** lisp code

| Key binding | name of the command     | effect                                   |
|-------------+-------------------------+------------------------------------------|
| M-:         | command eval-expression | evaluate lisp code                       |
|             | eval-region             | evaluate a region of lisp code in a file |
|             | load-file               | source a lisp file                       |

** emacs session

| Key binding         | name of the command        | effect                              |
|---------------------+----------------------------+-------------------------------------|
| C-x C-c             | save-buffers-kill-terminal | end Emacs session                   |
| C-z                 |                            | Emacs session (temporary)           |
| C-g                 | keyboard-quit              | interrupt the command being entered |
| F10 or C-x u or C-/ | undo-only                  | cancel the last action              |
|                     | delete-frame               | delete frame                        |
|                     | list-packages              | Display a list of packages          |
|                     | shell                      | open the shell                      |

** Buffer

| Key binding | name of the command | effect                                     |
|-------------+---------------------+--------------------------------------------|
| C-x C-f     |                     | open/create a file                         |
| C-x C-s     |                     | save a buffer                              |
| C-x s       |                     | save all buffers                           |
| C-x C-b     |                     | list all buffers                           |
| C-x b       |                     | switch buffer                              |
| C-x 1       |                     | only keep the current window               |
| C-x 2       |                     | split the current window, horizontally     |
| C-x 3       |                     | spilt the current window, vertically       |
|             | revert-buffer       | update buffer with the content of the file |

** dired

| Key binding | name of the command              | effect                                    |
|-------------+----------------------------------+-------------------------------------------|
| C-x d       | dired                            | launch dired                              |
| C           |                                  | copy file(s)                              |
| +           |                                  | create subdirectory                       |
| D           |                                  | delete marked files                       |
|             | rgrep                            | find string in all files from a directory |
| A           | dired-do-find-regexp             | find string in all marked files           |
| d           |                                  | flag all back-up files                    |
| ~           |                                  | flag all auto-save files                  |
| #           |                                  | flag file for deletion                    |
| M-r         | dired-omit-mode                  | hide unimportant files                    |
| * .         |                                  | mark all files with a given extension     |
| m           |                                  | mark file                                 |
| R           |                                  | rename file(s)                            |
| Q           | dired-do-find-regexp-and-replace | find and replace in all marked files      |
|             | find-grep-dired                  | find in files                             |
|             | find-name-dired                  | find filename                             |
| e           | dired-sort-extension             | sort files by extension                   |
| C-c n       | dired-sort-name                  | sort files by name                        |
| C-c t       | dired-sort-time                  | sort files by time                        |
| U           |                                  | unmark all files                          |
| u           |                                  | unmark file                               |
| g           |                                  | update dired buffer                       |
| o           |                                  | visit file in another window              |

More key bindings at: https://www.gnu.org/software/emacs/refcards/pdf/dired-ref.pdf

** Editing

*** Move

| unit      | backward | forward | center | begining | end   | other window |
|-----------+----------+---------+--------+----------+-------+--------------|
| character | C-b      | C-f     |        |          |       |              |
| word      | M-b      | M-f     |        |          |       |              |
| line      | C-p      | C-n     |        | C-a      | C-e   |              |
| sentence  | M-a      | (M-e)   |        |          |       |              |
| paragraph | M-a      |         |        |          |       |              |
| function  |          |         |        | M-C-a    | M-C-e |              |
| screen    | C-v      | M-v     | C-l    | M-<      | M->   | C-M-v        |
| buffer    | M-p      | M-n     |        |          |       |              |
| window    | M-down   | M-up    |        |          |       | M-o          |

| Key binding | name of the command | effect     |
|-------------+---------------------+------------|
| M-g         | goto-line           | go to line |

*** Highlight
| Key binding | name of the command  | effect                                 |
|-------------+----------------------+----------------------------------------|
| M-s h r     | highlight-regexp     | highlight matching regular expressions |
| M-s h u     | unhighlight-regexp   | remove the highlight                   |

*** Mark
| Key binding     | name of the command | effect                          |
|-----------------+---------------------+---------------------------------|
| M-<SPC>         |                     | start mark and highlight        |
| M-<SPC> M-<SPC> |                     | start mark without highlight    |
|                 | mark-word           | mark word                       |
| M-h             | org-mark-element    | mark paragraph                  |
| C-x h           | mark-whole-buffer   | mark buffer                     |
| C-u C-<SPC>     |                     | navigate back to previous marks |

*** Search (within buffer)
| Key binding | name of the command | effect                                                               |
|-------------+---------------------+----------------------------------------------------------------------|
| C-r         | isearch-forward     | search for a regular expression forward                              |
| C-s         | isearch-backward    | search for a regular expression backward                             |
| M-p / M-n   |                     | (during) move through previous searched expressions           |
| M-e         |                     | (during) modify expression to search                          |
| <RET>       |                     | (during) stop the search                                      |
| C-u C-<SPC> |                     | (on exit) return at the place before search                          |
| C-x C-x     |                     | (on exit) highlight the text between the start and end of the search |

*** Search and replace (within buffer)

| Key binding | name of the command | effect                                              |
|-------------+---------------------+-----------------------------------------------------|
| M-%         | query-replace       | search and replace a regular expression backward    |
| M-p / M-n   |                     | (during) move through previous searched expressions |
| ,           |                     | (during) replace and display the result             |
| n           |                     | (during) next                                       |
| !           |                     | (during) replace all occurences                     |
| ^           |                     | (during) go back to previous occurence              |
| q           |                     | (during) quit                                         |

More key bindings at: https://www.gnu.org/software/emacs/manual/html_node/emacs/Query-Replace.html

*** Delete
| unit     | all       | backward | forward             |
|----------+-----------+----------+---------------------|
| letter   |           | <DEL>    | Delete              |
| word     |           | M-<DEL>  | M-d                 |
| line     | C-S-<DEL> |          | C-k                 |
| sentence |           |          | M-k (kill-sentence) |
| region   | C-w       |          | M-k                 |

** orgmode
| Key binding         | name of the command                                                 | effect                |
|---------------------+---------------------------------------------------------------------+-----------------------|
| C-c C-e             |                                                                     | insert an environment |
| C-u C-c C-e         |                                                                     | change an environment |
| <La                 | header for latex document                                           |                       |
| <Lb                 | header for beamer document                                          |                       |
|                     | (remember to do C-c c in the header section to refresh local setup) |                       |
| M-j                 | export                                                              |                       |
| M-k                 | debug                                                               |                       |
| C-c C-v             | view                                                                |                       |
| C-c C-v             | open document using the default application of the OS               |                       |
| reformat a paragrah | M-q                                                                 |                       |
| reduce a paragraph  | C-i                                                                 |                       |
| set the margin      | C-x f <number>                                                      |                       |



** Bibliography
Using the *gscholar-bibtex* package, one can type M-x gscholar-bibtex
to get the bibtex code for a given article.
** Version
M-x emacs-version
M-x diff-buffer
** Shortcut
- M-I autocompletion (type several times to switch between the possibles autocompletion). This is called hippie expand.
- M-E display the possibilities in a new buffer


** magit

| Key binding | name of the command  | effect                             |
|-------------+----------------------+------------------------------------|
|             | magit-init           | start version control in directory |
| C-x g       | magit-status         | open version control in directory  |
| s           |                      | stage untracked file               |
| i           |                      | add file to .gitignore             |
| u           |                      | unstage file                       |
| k           |                      | delete file                        |
| c           | git commit -m "text" | create a temporary commit          |
| C-c C-c     |                      | valid temporary commit             |
| C-c C-k     |                      | kill temporary commit              |
|             | magit-remove-add     | add remote repository              |
| P           | magit-push-popup     | push commit                        |
| g           |                      | refress current buffer             |
| F           |                      | Pull                               |

Documentation: http://jr0cket.co.uk/2012/12/driving-git-with-emacs-pure-magic-with.html.html
               https://github.com/magit/magit/wiki/Cheatsheet
** R
| C-c '   | run chunk line by line |
| <Re     | r schunk               |
| <l      | latex schunk           |
|         | Source                 |
|---------+------------------------|
| M-j     | line                   |
| C-c C-b | buffer                 |
| C-c C-l | file                   |
| C-c C-c |                        |




* Dependencies

=require=:
- *install packages*: package, use-package
- *C++ mode*: cc-mode
- *dired*: dired-x, dired-quick-sort
- *email*: mu4e

=usep-package=:
- *general display*: moe-theme, powerline
- *multicolor parentheses* , rainbow-delimiters
- *scrolling*: scroll-restore
- *buffer*: ido, ido-completing-read+
- *windows*: transpose-frame
- *add header in files*: header2, header2-snps
- *restaure from previous session*: recentf
- *dired*: dired-hacks-utils, dired-sort, dired-narrow, dired-rainbow
- *shortcut*: yasnippet, auto-yasnippet
- *completion*: auto-complete, popup-complete, auto-complete-config, ac-R, hippie-exp
- *R softwre*: ess-site, ess-edit
- *bibliography*: gscholar-bibtex
- *version control*: magit, magithub
- *orgmode*: org, org-bookmark-heading, org-capture, org-agenda, org-clock, org-latex, ox-latex, ox-beamer
- *stan*: stan-mode, stan-snippets
- *putty*: tramp

* Documentation
** learning emacs/lisp
https://tuhdo.github.io/index.html
https://emacsclub.github.io/html/org_tutorial.html

** magit
https://www.masteringemacs.org/article/introduction-magit-emacs-mode-git


